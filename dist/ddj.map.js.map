{"version":3,"sources":["webpack://ddj/webpack/universalModuleDefinition","webpack://ddj/webpack/bootstrap","webpack://ddj/./src/ddj.data.js","webpack://ddj/./src/ddj.tools.js","webpack://ddj/./src/ddj.map.js","webpack://ddj/./src/ddj.mapcontrols.js","webpack://ddj/./src/ddj.marker.js","webpack://ddj/./src/ddj.quickinfo.js","webpack://ddj/./src/ddj.search.js","webpack://ddj/./src/ddj.tutorial.js","webpack://ddj/./src/ddj.autostart.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","store","userData","uniqueIdentifier","getRow","data","geometry","properties","init","type","features","String","startsWith","prefix","indexOf","Array","isArray","obj","toString","getUniqueIdentifier","id","setUniqueIdentifier","identifier","getMetaContent","metaTag","document","querySelector","content","getMetaContentArray","querySelectorAll","length","push","showSelection","selector","show","query","style","display","getSelectionValue","setSelectionValue","getSelectionHTML","innerHTML","getAllObjects","u","allObjects","map","mapDOMelementID","settings","mapboxId","mapboxToken","attribution","centerLat","centerLng","zoom","onFocusOnce","onZoomed","onMoved","set","getDOMName","setDOMName","canInit","L","elementName","initialSettings","mapboxTiles","tileLayer","join","tileSize","zoomOffset","accessToken","zoomControl","scrollWheelZoom","addLayer","setView","addControl","control","position","once","on","console","error","autostart","element","getElementById","mapCenter","tools","split","trim","onAddCallback","icon","container","DomUtil","$","updateEmbedURI","size","val","x","y","html","outerHTML","replace","Date","getTime","focus","select","ControlInfo","Control","extend","options","onAdd","popup","selectmenu","layerGroup","onAddHTML","onMouseOver","onMouseOut","onClick","undefined","AwesomeMarkers","update","fixGeometryData","lat","lng","latMin","latMax","lngMin","lngMax","a","area","point","coordinates","log","valObj","valCount","addObj","addHTMLObj","uniqueSetId","uniqueId","removeLayer","featureGroup","addTo","addEventListener","evt","latlng","layer","index","count","parseFloat","color","opacity","clickable","iconPrefix","iconFace","htmlClass","htmlIconSize","htmlElement","marker","extraClasses","markerColor","divIcon","className","iconSize","pinColor","pinColorColumn","pinIcon","pinIconColumn","pinIconPrefix","pinIconPrefixColumn","dictYes","dictNo","onShow","onHide","hasClass","close","onclick","setVisible","group","toggleClass","stle","setText","txt","item","CSS","escape","sign","pos","parseInt","slice","formatNumber","tagName","src","infoList","dataArray","infoItems","infoSnippets","remove","clone","appendTo","autostartLib","selectedItem","objects","onFocus","onFormat","orientation","showNoSuggestion","titleNoSuggestion","dataLength","sortValue1","sortValue2","sort","b","htmlDOMelementID","autocomplete","lookup","onSelect","suggestion","formatResult","currentValue","str","RegExp","showNoSuggestionNotice","noSuggestionNotice","noSuggestion","searchTitleColumn","searchDescriptionColumn","description","desc","window","scrollTo","body","scrollTop","animate","updatePagesAndButtons","tutorial","pageElement","page","textContent","pages","find","positionTo","controlgroupLinks","back","css","removeClass","addClass","append","controlgroup","direction","afterclose","gotoFirstPage","onBack","onNext","setTimeout","onDoneCallback","eventPageShowWasSet","updateMapSelectItem","quickinfo","onDone","callback","dataUris","dataIgnoreSecondLines","dataIgnoreLastLines","dataUniqueIdentifier","search","selection","items","panTo","LatLng","selectSuggestion","onAlways","location","hash","history","replaceState","mapcontrols","loadData","dataUri","dataIgnoreSecondLine","dataIgnoreLastLine","uri","successCallback","jsonObject","jsonData","shift","pop","promiseObject","onFail","done","fail","always","request","XMLHttpRequest","open","onreadystatechange","readyState","status","JSON","parse","responseText","send"],"mappings":"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","file":"ddj.map.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ddj\"] = factory();\n\telse\n\t\troot[\"ddj\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/*jslint browser: true*/\n/*global $,window*/\n\n// -----------------------------------------------------------------------------\n\nconst store = {\n\tuserData: null,\n\tuniqueIdentifier: null,\n}\n\nexport default store;\n\n// -----------------------------------------------------------------------------\n\nconst settings = {\n};\n\n// -----------------------------------------------------------------------------\n\nexport function getRow(key) {\n\tif (typeof key === 'undefined') {\n\t\treturn store.userData;\n\t}\n\tif (key === null) {\n\t\treturn store.userData;\n\t}\n\n\treturn store.userData[key];\n}\n\n// -----------------------------------------------------------------------------\n\nexport function get(key) {\n\tvar data = getRow(key);\n\n\t// use geojson file\n\tif (data && data.geometry && data.properties) {\n\t\tdata = data.properties;\n\t}\n\n\treturn data;\n}\n\n// -----------------------------------------------------------------------------\n\nexport function init(userData) {\n\tstore.userData = userData;\n\n\t// use geojson file\n\tif (userData && userData.type && (userData.type === 'FeatureCollection') && userData.features) {\n\t\tstore.userData = userData.features;\n\t}\n\n\tString.prototype.startsWith = String.prototype.startsWith || function (prefix) {\n\t\treturn this.indexOf(prefix) === 0;\n\t};\n\n\tif (typeof Array.isArray === 'undefined') {\n\t\tArray.isArray = function (obj) {\n\t\t\treturn Object.prototype.toString.call(obj) === '[object Array]';\n\t\t};\n\t}\n}\n\n// -----------------------------------------------------------------------------\n\nexport function getUniqueIdentifier () {\n\tvar id = store.uniqueIdentifier;\n\n\tif ((typeof id === 'undefined') || (id === undefined) || (id === null) || (id === '')) {\n\t\treturn null;\n\t}\n\n\treturn id;\n}\n\n// -----------------------------------------------------------------------------\n\nexport function setUniqueIdentifier(identifier) {\n\tstore.uniqueIdentifier = identifier;\n}\n\n// -----------------------------------------------------------------------------\n","/*jslint browser: true*/\n/*global document */\n\n// -----------------------------------------------------------------------------\n\nimport * as data from './ddj.data';\n\n// -----------------------------------------------------------------------------\n\nconst store = {\n};\n\nexport default store;\n\n// -----------------------------------------------------------------------------\n\nexport function getMetaContent(name) {\n\tvar metaTag = document.querySelector('meta[name=\"' + name + '\"]');\n\n\tif (metaTag) {\n\t\treturn metaTag.content || '';\n\t}\n\n\treturn '';\n}\n\n// -----------------------------------------------------------------------------\n\nexport function getMetaContentArray(name) {\n\tvar metaTag = document.querySelectorAll('meta[name=\"' + name + '\"]'),\n\t\tcontent = [];\n\n\tif (metaTag) {\n\t\tfor (var m = 0; m < metaTag.length; ++m) {\n\t\t\tcontent.push(metaTag[m].content || '');\n\t\t}\n\n\t}\n\n\treturn content;\n}\n\n// -----------------------------------------------------------------------------\n\nexport function showSelection(selector, show) {\n\tvar query, s;\n\n\tselector = selector || '';\n\tquery = document.querySelectorAll(selector);\n\n\tfor (s = 0; s < query.length; ++s) {\n\t\tquery[s].style.display = show ? 'block' : 'none';\n\t}\n}\n\n// -----------------------------------------------------------------------------\n\nexport function getSelectionValue(selector) {\n\tif (selector) {\n\t\tvar query = document.querySelectorAll(selector);\n\n\t\tif (query.length > 0) {\n\t\t\treturn query[0].value;\n\t\t}\n\t}\n\n\treturn '';\n}\n\n// -----------------------------------------------------------------------------\n\nexport function setSelectionValue(selector, value) {\n\tvar query, s;\n\n\tselector = selector || '';\n\tquery = document.querySelectorAll(selector);\n\n\tfor (s = 0; s < query.length; ++s) {\n\t\tquery[s].value = value;\n\t}\n}\n\n// -----------------------------------------------------------------------------\n\nexport function getSelectionHTML(selector) {\n\tif (selector) {\n\t\tvar query = document.querySelectorAll(selector);\n\n\t\tif (query.length > 0) {\n\t\t\treturn query[0].innerHTML;\n\t\t}\n\t}\n\n\treturn '';\n}\n\n// -----------------------------------------------------------------------------\n\nexport function getAllObjects(obj) {\n\tvar u, allObjects = [], id = data.getUniqueIdentifier();\n\n\tif (id === null) {\n\t\treturn obj;\n\t}\n\n\tfor (u = 0; u < data.default.userData.length; ++u) {\n\t\tif (data.default.userData[u][id] === obj[id]) {\n\t\t\tallObjects.push(data.default.userData[u]);\n\t\t}\n\t}\n\n\tif (allObjects.length === 1) {\n\t\treturn allObjects[0];\n\t}\n\n\treturn allObjects;\n}\n\n// -----------------------------------------------------------------------------\n","/*jslint browser: true*/\n/*global L,document,console*/\n\n// -----------------------------------------------------------------------------\n\nimport * as tools from './ddj.tools';\n\n// -----------------------------------------------------------------------------\n\nconst store = {\n\tmap: null,\n\tmapDOMelementID: '',\n}\n\nexport default store;\n\n// -----------------------------------------------------------------------------\n\nconst settings = {\n\tmapboxId: 'tursics.l7ad5ee8',\n\tmapboxToken: 'pk.eyJ1IjoidHVyc2ljcyIsImEiOiI1UWlEY3RNIn0.U9sg8F_23xWXLn4QdfZeqg',\n\tattribution: '',\n\tcenterLat: 52.518413,\n\tcenterLng: 13.408368,\n\tzoom: 13,\n\tonFocusOnce: null,\n\tonZoomed: null,\n\tonMoved: null\n};\n\n// -----------------------------------------------------------------------------\n\nString.prototype.startsWith = String.prototype.startsWith || function (prefix) {\n\t'use strict';\n\n\treturn this.indexOf(prefix) === 0;\n};\n\n// -----------------------------------------------------------------------------\n\nexport function get() {\n\treturn store.map;\n}\n\n// -----------------------------------------------------------------------------\n\nexport function set(map) {\n\tstore.map = map;\n}\n\n// -----------------------------------------------------------------------------\n\nexport function getDOMName() {\n\treturn store.mapDOMelementID;\n}\n\n// -----------------------------------------------------------------------------\n\nexport function setDOMName(name) {\n\tstore.mapDOMelementID = name;\n}\n\n// -----------------------------------------------------------------------------\n\nexport function canInit() {\n\tif ((typeof L === 'undefined') || (L === null)) {\n\t\treturn false;\n\t}\n\treturn true;\n}\n\n// -----------------------------------------------------------------------------\n\nexport function init(elementName, initialSettings) {\n\tif (null !== get()) {\n\t\treturn;\n\t}\n\tif (!canInit()) {\n\t\tconsole.error('Error: Please include leaflet.js in your html file.');\n\t\treturn;\n\t}\n\n\tvar key, mapboxTiles, attribution = [];\n\n\tif ((initialSettings !== null) && (typeof (initialSettings) === 'object')) {\n\t\tfor (key in initialSettings) {\n\t\t\tif (initialSettings.hasOwnProperty(key) && settings.hasOwnProperty(key)) {\n\t\t\t\tsettings[key] = initialSettings[key];\n\t\t\t}\n\t\t}\n\t}\n\n\tattribution.push('<a href=\"http://www.openstreetmap.org\" target=\"_blank\">OpenStreetMap-Mitwirkende</a>');\n\tattribution.push('<a href=\"https://www.mapbox.com\" target=\"_blank\">Mapbox</a>');\n\tif (settings.attribution !== '') {\n\t\tattribution.push(settings.attribution);\n\t}\n\n\tmapboxTiles = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\n\t\tattribution: attribution.join(', '),\n\t\ttileSize: 512,\n\t\tzoomOffset: -1,\n\t\tid: 'mapbox/streets-v11',\n\t\taccessToken: settings.mapboxToken,\n\t});\n\n\tsetDOMName(elementName);\n\tset(L.map(elementName, {zoomControl: false, scrollWheelZoom: true})\n\t\t.addLayer(mapboxTiles)\n\t\t.setView([settings.centerLat, settings.centerLng], settings.zoom));\n\n\tget().addControl(L.control.zoom({ position: 'bottomright'}));\n\tget().once('focus', function () {\n\t\tif (settings.onFocusOnce) {\n\t\t\tsettings.onFocusOnce();\n\t\t}\n\t});\n\tget().on('zoomend', function () {\n\t\tif (settings.onZoomed) {\n\t\t\tsettings.onZoomed();\n\t\t}\n\t});\n\tget().on('moveend', function () {\n\t\tif (settings.onMoved) {\n\t\t\tsettings.onMoved();\n\t\t}\n\t});\n}\n\n// -----------------------------------------------------------------------------\n\nexport function autostart() {\n\tvar elementId = 'map',\n\t\telement = document.getElementById(elementId),\n\t\tmapCenter = tools.getMetaContent('ddj:mapCenter'),\n\t\tattribution = document.querySelectorAll('[data-map=\"attribution\"]') || [];\n\n\tif (element && (mapCenter.split(',').length === 2)) {\n\t\tinit(elementId, {\n\t\t\tmapboxId: tools.getMetaContent('ddj:mapboxId'),\n\t\t\tmapboxToken: tools.getMetaContent('ddj:mapboxToken'),\n\t\t\tattribution: attribution.length > 0 ? attribution[0].innerHTML : '',\n\t\t\tcenterLat: mapCenter.split(',')[0].trim(),\n\t\t\tcenterLng: mapCenter.split(',')[1].trim(),\n\t\t\tzoom: tools.getMetaContent('ddj:mapZoom'),\n\t\t});\n\t}\n}\n\n// -----------------------------------------------------------------------------\n","/*jslint browser: true*/\n/*global L,$*/\n\n// -----------------------------------------------------------------------------\n\nimport * as map from './ddj.map';\nimport * as tools from './ddj.tools';\n\n// -----------------------------------------------------------------------------\n\nconst store = {\n}\n\nexport default store;\n\n// -----------------------------------------------------------------------------\n\nconst settings = {\n};\n\n// -----------------------------------------------------------------------------\n\nfunction onAddCallback() {\n\tvar container = L.DomUtil.create('div', 'leaflet-bar leaflet-control leaflet-control-custom'),\n\t\ticon;\n\n\tif (document.querySelector('[data-share=\"dialog\"]')) {\n\t\ticon = $('[data-share=\"dialog\"]').data('icon') || 'fa fa-share-alt';\n\t\tcontainer.innerHTML = '<a style=\"font-size:1.2em\" href=\"#popupShare\" title=\"Teilen\" data-rel=\"popup\" data-position-to=\"window\" data-transition=\"pop\"><i class=\"' + icon + '\" aria-hidden=\"true\"></i></a>';\n\t}\n\tif (document.querySelector('[data-info=\"dialog\"]')) {\n\t\ticon = $('#popupInfo').data('icon') || 'fa fa-info';\n\t\tcontainer.innerHTML += '<a style=\"font-size:1.2em\" href=\"#popupInfo\" title=\"Info\" data-rel=\"popup\" data-position-to=\"window\" data-transition=\"pop\"><i class=\"' + icon + '\" aria-hidden=\"true\"></i></a>';\n\t}\n\tif (document.querySelector('[data-author=\"dialog\"]')) {\n\t\ticon = $('#popupAuthor').data('icon') || 'fa fa-envelope';\n\t\tcontainer.innerHTML += '<a style=\"font-size:1.2em\" href=\"#popupAuthor\" title=\"Autor\" data-rel=\"popup\" data-position-to=\"window\" data-transition=\"pop\"><i class=\"' + icon + '\" aria-hidden=\"true\"></i></a>';\n\t}\n\tif (document.querySelector('[data-tutorial=\"dialog\"]')) {\n\t\ticon = $('[data-tutorial=\"dialog\"]').data('icon') || 'fa fa-graduation-cap';\n\t\tcontainer.innerHTML += '<a style=\"font-size:1.2em\" href=\"#popupTutorial\" title=\"Anleitung\" data-rel=\"popup\" data-position-to=\"window\" data-transition=\"pop\"><i class=\"' + icon + '\" aria-hidden=\"true\"></i></a>';\n\t}\n\n\treturn container;\n}\n\n// -----------------------------------------------------------------------------\n\nfunction updateEmbedURI() {\n\tvar size = $('#selectEmbedSize').val().split('x'),\n\t\tx = size[0],\n\t\ty = size[1],\n\t\tdataShareURI = tools.getMetaContent('ddj:shareURI') || '',\n\t\thtml = '<iframe src=\"' + dataShareURI + '\" width=\"' + x + '\" height=\"' + y + '\" frameborder=\"0\" style=\"border:0\" allowfullscreen></iframe>';\n\n\t$('#inputEmbedURI').val(html);\n\tif (-1 === $('#embedMap iframe')[0].outerHTML.indexOf('width=\"' + x + '\"')) {\n\t\t$('#embedMap iframe')[0].outerHTML = html.replace('.html\"', '.html?foo=' + (new Date().getTime()) + '\"');\n\t\t$('#embedMap input').focus().select();\n\t}\n}\n\n// -----------------------------------------------------------------------------\n\nexport function init(initialSettings) {\n\tif (null === map.get()) {\n\t\treturn;\n\t}\n\n\tvar key;\n\n\tif ((initialSettings !== null) && (typeof (initialSettings) === 'object')) {\n\t\tfor (key in initialSettings) {\n\t\t\tif (initialSettings.hasOwnProperty(key) && settings.hasOwnProperty(key)) {\n\t\t\t\tsettings[key] = initialSettings[key];\n\t\t\t}\n\t\t}\n\t}\n\n\tvar ControlInfo = L.Control.extend({\n\t\toptions: {\n\t\t\tposition: 'bottomright',\n\t\t},\n\t\tonAdd: onAddCallback,\n\t});\n\tmap.get().addControl(new ControlInfo());\n\n\tif (document.querySelector('[data-share=\"dialog\"]')) {\n\t\t$(\"#popupShare\").on('popupafteropen', function () {\n\t\t\t$('#shareLink input').focus().select();\n\t\t});\n\t\t$('#tabShareLink').on('click', function () {\n\t\t\t$('#popupShare').popup('reposition', 'positionTo: window');\n\t\t\t$('#shareLink input').focus().select();\n\t\t});\n\t\t$('#tabEmbedMap').on('click', function () {\n\t\t\tupdateEmbedURI();\n\t\t\t$('#popupShare').popup('reposition', 'positionTo: window');\n\t\t\t$('#embedMap input').focus().select();\n\t\t});\n\n\t\t$('#selectEmbedSize').val('400x300').selectmenu('refresh');\n\t\t$('#selectEmbedSize').on('change', function () {\n\t\t\tupdateEmbedURI();\n\t\t\t$('#popupShare').popup('reposition', 'positionTo: window');\n\t\t});\n\t}\n}\n\n// -----------------------------------------------------------------------------\n\nexport function autostart() {\n\tinit();\n}\n\n// -----------------------------------------------------------------------------\n","/*jslint browser: true*/\n/*global L,console*/\n\n// -----------------------------------------------------------------------------\n\nimport * as data from './ddj.data';\nimport * as map from './ddj.map';\nimport * as tools from './ddj.tools';\n\n// -----------------------------------------------------------------------------\n\nconst store = {\n\tlayerGroup: null\n}\n\nexport default store;\n\n// -----------------------------------------------------------------------------\n\nconst settings = {\n\tonAdd: function () {\n\t\treturn true;\n\t},\n\tonAddHTML: function () {\n\t\treturn false;\n\t},\n\tonMouseOver: null,\n\tonMouseOut: null,\n\tonClick: null\n};\n\n// -----------------------------------------------------------------------------\n\nexport function canInit() {\n\tif ((typeof L === 'undefined') || (L === null) || (L.AwesomeMarkers === undefined)) {\n\t\treturn false;\n\t}\n\treturn true;\n}\n\n// -----------------------------------------------------------------------------\n\nexport function init(initialSettings) {\n\tif (null !== store.layerGroup) {\n\t\treturn;\n\t}\n\tif (!canInit()) {\n\t\tconsole.error('Error: Please include leaflet.js and Leaflet.awesome-markers,js in your html file.');\n\t\treturn;\n\t}\n\n\tvar key;\n\n\tif ((initialSettings !== null) && (typeof (initialSettings) === 'object')) {\n\t\tfor (key in initialSettings) {\n\t\t\tif (initialSettings.hasOwnProperty(key) && settings.hasOwnProperty(key)) {\n\t\t\t\tsettings[key] = initialSettings[key];\n\t\t\t}\n\t\t}\n\t}\n\n\tupdate();\n}\n\n// -----------------------------------------------------------------------------\n\nexport function fixGeometryData(val) {\n\tif (val.geometry && val.properties) {\n\t\tvar lat, lng, latMin, latMax, lngMin, lngMax, a, area, p, point;\n\n\t\tif (val.geometry.type === 'Polygon') {\n\t\t\tlatMin = val.geometry.coordinates[0][0][1];\n\t\t\tlatMax = val.geometry.coordinates[0][0][1];\n\t\t\tlngMin = val.geometry.coordinates[0][0][0];\n\t\t\tlngMax = val.geometry.coordinates[0][0][0];\n\n\t\t\tfor (a = 0; a < val.geometry.coordinates.length; ++a) {\n\t\t\t\tarea = val.geometry.coordinates[a];\n\n\t\t\t\tfor (p = 0; p < area.length; ++p) {\n\t\t\t\t\tpoint = area[p];\n\n\t\t\t\t\tif (point[1] < latMin) {\n\t\t\t\t\t\tlatMin = point[1];\n\t\t\t\t\t}\n\t\t\t\t\tif (point[1] > latMax) {\n\t\t\t\t\t\tlatMax = point[1];\n\t\t\t\t\t}\n\t\t\t\t\tif (point[0] < lngMin) {\n\t\t\t\t\t\tlngMin = point[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (point[0] > lngMax) {\n\t\t\t\t\t\tlngMax = point[0];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tlat = (latMin + latMax) / 2;\n\t\t\tlng = (lngMin + lngMax) / 2;\n\t\t} else if (val.geometry.type === 'Point') {\n\t\t\tlat = val.geometry.coordinates[1];\n\t\t\tlng = val.geometry.coordinates[0];\n\t\t} else {\n\t\t\tconsole.log(val.geometry.type + ' not yet implemented');\n\t\t}\n\n\t\tval = val.properties;\n\t\tval.lat = val.lat || lat;\n\t\tval.lng = val.lng || lng;\n\t}\n\n\treturn val;\n}\n\n// -----------------------------------------------------------------------------\n\nexport function update() {\n\tvar key, valObj, val, valCount, obj, addObj, addHTMLObj, uniqueSetId = [], uniqueId = data.getUniqueIdentifier();\n\n\tif (store.layerGroup) {\n\t\tmap.get().removeLayer(store.layerGroup);\n\t\tstore.layerGroup = null;\n\t}\n\n\tstore.layerGroup = L.featureGroup([]);\n\tstore.layerGroup.addTo(map.get());\n\tstore.layerGroup.addEventListener('mouseover', function (evt) {\n\t\tif (settings.onMouseOver) {\n\t\t\tsettings.onMouseOver([evt.latlng.lat, evt.latlng.lng], data.get(evt.layer.options.data));\n\t\t}\n\t});\n\tstore.layerGroup.addEventListener('mouseout', function (evt) {\n\t\tif (settings.onMouseOut) {\n\t\t\tsettings.onMouseOut([evt.latlng.lat, evt.latlng.lng], data.get(evt.layer.options.data));\n\t\t}\n\t});\n\tstore.layerGroup.addEventListener('click', function (evt) {\n\t\tif (settings.onClick) {\n\t\t\tsettings.onClick([evt.latlng.lat, evt.latlng.lng], data.get(evt.layer.options.data));\n\t\t}\n\t});\n\nif (data.getRow()) {\n\tfor (key = 0; key < data.getRow().length; ++key) {\n\t\tval = data.getRow(key);\n\t\tval = fixGeometryData(val);\n\t\tvalObj = val;\n\t\tvalCount = 1;\n\n\t\tif (Array.isArray(valObj)) {\n\t\t\tval = valObj[0];\n\t\t\tvalCount = valObj.length;\n\t\t}\n\n\t\tif ((uniqueId !== null) && (uniqueSetId.indexOf(val[uniqueId]) > -1)) {\n\t\t\t// add marker only once\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ((typeof val.lat !== 'undefined') && (val.lat !== '') && (typeof val.lng !== 'undefined') && (val.lng !== '')) {\n\t\t\tobj = {\n\t\t\t\tindex: key,\n\t\t\t\tcount: valCount,\n\t\t\t\tlat: parseFloat(val.lat),\n\t\t\t\tlng: parseFloat(val.lng),\n\t\t\t\tcolor: 'blue',\n\t\t\t\topacity: 1,\n\t\t\t\tclickable: 1,\n\t\t\t\ticonPrefix: 'fa',\n\t\t\t\ticonFace: 'fa-dot-circle-o',\n\t\t\t\thtmlClass: '',\n\t\t\t\thtmlIconSize: null,\n\t\t\t\thtmlElement: ''\n\t\t\t};\n\t\t\ttry {\n\t\t\t\taddObj = settings.onAdd(obj, val);\n\t\t\t} catch (x) {\n\t\t\t\tconsole.log(x);\n\t\t\t\taddObj = false;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\taddHTMLObj = settings.onAddHTML(obj, val);\n\t\t\t} catch (y) {\n\t\t\t\tconsole.log(y);\n\t\t\t\taddHTMLObj = false;\n\t\t\t}\n\n\t\t\tif (addObj !== false) {\n\t\t\t\tstore.layerGroup.addLayer(L.marker([obj.lat, obj.lng], {\n\t\t\t\t\tdata: obj.index,\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\textraClasses: obj.iconPrefix,\n\t\t\t\t\t\ticon: obj.iconFace,\n\t\t\t\t\t\tmarkerColor: obj.color\n\t\t\t\t\t}),\n\t\t\t\t\topacity: obj.opacity,\n\t\t\t\t\tclickable: obj.clickable\n\t\t\t\t}));\n\n\t\t\t\tuniqueSetId.push(val[uniqueId]);\n\t\t\t}\n\t\t\tif (addHTMLObj !== false) {\n\t\t\t\tstore.layerGroup.addLayer(L.marker([obj.lat, obj.lng], {\n\t\t\t\t\tdata: obj.index,\n\t\t\t\t\ticon: L.divIcon({\n\t\t\t\t\t\tclassName: obj.htmlClass,\n\t\t\t\t\t\ticonSize: obj.htmlIconSize,\n\t\t\t\t\t\thtml: obj.htmlElement\n\t\t\t\t\t}),\n\t\t\t\t\topacity: obj.opacity,\n\t\t\t\t\tclickable: obj.clickable\n\t\t\t\t}));\n\n\t\t\t\tuniqueSetId.push(val[uniqueId]);\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n}\n\n// -----------------------------------------------------------------------------\n\nexport function autostart(options) {\n\tvar pinColor = tools.getMetaContent('ddj:pinColor') || '',\n\t\tpinColorColumn = tools.getMetaContent('ddj:pinColorColumn') || '',\n\t\tpinIcon = tools.getMetaContent('ddj:pinIcon') || '',\n\t\tpinIconColumn = tools.getMetaContent('ddj:pinIconColumn') || '',\n\t\tpinIconPrefix = tools.getMetaContent('ddj:pinIconPrefix') || '',\n\t\tpinIconPrefixColumn = tools.getMetaContent('ddj:pinIconPrefixColumn') || '';\n\n\tif (canInit()) {\n\t\tinit({\n\t\t\tonAdd: function (marker, value) {\n\t\t\t\tif (pinColor !== '') {\n\t\t\t\t\tmarker.color = pinColor;\n\t\t\t\t}\n\t\t\t\tif ((pinColorColumn !== '') && value[pinColorColumn]) {\n\t\t\t\t\tmarker.color = value[pinColorColumn];\n\t\t\t\t}\n\n\t\t\t\tif (pinIcon !== '') {\n\t\t\t\t\tmarker.iconPrefix = pinIconPrefix;\n\t\t\t\t\tmarker.iconFace = pinIcon;\n\t\t\t\t}\n\t\t\t\tif ((pinIconColumn !== '') && value[pinIconColumn]) {\n\t\t\t\t\tmarker.iconPrefix = value[pinIconPrefixColumn];\n\t\t\t\t\tmarker.iconFace = value[pinIconColumn];\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tonClick: function (latlng, data) {\n\t\t\t\tif (options.onClick) {\n\t\t\t\t\toptions.onClick(latlng, data);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\n// -----------------------------------------------------------------------------\n","/*jslint browser: true*/\n/*global $*/\n\n// -----------------------------------------------------------------------------\n\nimport * as autostartLib from './ddj.autostart';\nimport * as tools from './ddj.tools';\n\n// -----------------------------------------------------------------------------\n\nconst store = {\n\troot: null\n}\n\nexport default store;\n\n// -----------------------------------------------------------------------------\n\nconst settings = {\n\tdictYes: 'ja',\n\tdictNo: 'nein',\n\tonShow: null,\n\tonHide: null\n};\n\n// -----------------------------------------------------------------------------\n\nfunction formatNumber(txt) {\n\ttxt = String(parseInt(txt, 10));\n\tvar sign = '',\n\t\tpos = 0;\n\tif (txt[0] === '-') {\n\t\tsign = '-';\n\t\ttxt = txt.slice(1);\n\t}\n\n\tpos = txt.length;\n\twhile (pos > 3) {\n\t\tpos -= 3;\n\t\ttxt = txt.slice(0, pos) + '.' + txt.slice(pos);\n\t}\n\n\treturn sign + txt;\n}\n\n// -----------------------------------------------------------------------------\n\nfunction hasClass(element, className) {\n    return (' ' + element.className + ' ').indexOf(' ' + className+ ' ') > -1;\n}\n\n// -----------------------------------------------------------------------------\n\nexport function init(initialSettings) {\n\tif (store.root !== null) {\n\t\treturn;\n\t}\n\n\tvar key;\n\n\tif ((initialSettings !== null) && (typeof (initialSettings) === 'object')) {\n\t\tfor (key in initialSettings) {\n\t\t\tif (initialSettings.hasOwnProperty(key) && settings.hasOwnProperty(key)) {\n\t\t\t\tsettings[key] = initialSettings[key];\n\t\t\t}\n\t\t}\n\t}\n\n\tstore.root = document.querySelector('[data-quickinfo=\"box\"]');\n\n\tif (store.root) {\n\t\tvar close = store.root.querySelector('[data-quickinfo=\"close\"]');\n\t\tif (close) {\n\t\t\tclose.onclick = function () {\n\t\t\t\tsetVisible(false);\n\t\t\t};\n\t\t}\n\t\tvar group = store.root.querySelector('[data-quickinfo=\"group\"]');\n\t\tif (group) {\n\t\t\tgroup.onclick = function () {\n\t\t\t\t$(this).toggleClass('groupClosed');\n\t\t\t};\n\t\t}\n\n\t\tupdate();\n\t}\n}\n\n// -----------------------------------------------------------------------------\n\nexport function update() {\n}\n\n// -----------------------------------------------------------------------------\n\nexport function setVisible(show) {\n\tif (show) {\n\t\tstore.root.style.display = 'block';\n\t\tif (settings.onShow) {\n\t\t\tsettings.onShow();\n\t\t}\n\t} else {\n\t\tstore.root.stle.display = 'none';\n\t\tif (settings.onHide) {\n\t\t\tsettings.onHide();\n\t\t}\n\t}\n}\n\n// -----------------------------------------------------------------------------\n\nexport function show(obj) {\n\tfunction setText(key, txt) {\n\t\tvar item = store.root.querySelectorAll('[data-quickdata=\"' + CSS.escape(key) + '\"]');\n\n\t\tif (item.length > 0) {\n\t\t\tif (hasClass(item[0], 'number')) {\n\t\t\t\ttxt = formatNumber(txt);\n\t\t\t} else if (hasClass(item[0], 'boolean')) {\n\t\t\t\ttxt = (txt === 1 ? settings.dictYes : settings.dictNo);\n\t\t\t}\n\n\t\t\tif (item[0].tagName === 'IMG') {\n\t\t\t\titem[0].src = txt;\n\t\t\t} else {\n\t\t\t\titem[0].innerHTML = txt;\n\t\t\t}\n\t\t}\n\n\t\titem = store.root.querySelectorAll('[data-hide-if-zero=\"' + CSS.escape(key) + '\"]');\n\n\t\tif (item.length > 0) {\n\t\t\tvar show = 'block';\n\t\t\tif ((txt === '0') || (txt === 0) || (txt === null)) {\n\t\t\t\tshow = 'none';\n\t\t\t}\n\n\t\t\titem[0].style.display = show;\n\t\t}\n\t}\n\n\tvar d, data, dataArray = obj, key, i, infoList, infoItems = [], infoSnippets = [];\n\n\tif (!Array.isArray(dataArray)) {\n\t\tdataArray = [obj];\n\t}\n\n\tinfoList = store.root.querySelectorAll('[data-quickinfo=\"list\"]');\n\tif (infoList.length === 1) {\n\t\tinfoItems = infoList[0].querySelectorAll('[data-quickinfo=\"item\"]');\n\n\t\twhile (infoItems.length > 1) {\n\t\t\t$(infoItems[0]).remove();\n\t\t\tinfoItems = infoList[0].querySelectorAll('[data-quickinfo=\"item\"]');\n\t\t}\n\t}\n\n\tfor (d = 0; d < dataArray.length; ++d) {\n\t\tdata = dataArray[d];\n\n\t\tfor (key in data) {\n\t\t\tif (data.hasOwnProperty(key)) {\n\t\t\t\tsetText(key, data[key]);\n\t\t\t}\n\t\t}\n\n\t\tif (infoItems.length > 0) {\n\t\t\tinfoSnippets.push($(infoItems[0]).clone());\n\t\t}\n\t}\n\n\tif (infoItems.length > 0) {\n\t\t$(infoItems[0]).remove();\n\t\tfor (i = 0; i < infoSnippets.length; ++i) {\n\t\t\tinfoSnippets[i].appendTo(infoList);\n\t\t}\n\t}\n\n\tsetVisible(true);\n}\n\n// -----------------------------------------------------------------------------\n\nexport function autostart() {\n\tinit({\n\t\tonShow: function () {\n\t\t\ttools.showSelection('[data-welcome=\"box\"]', false);\n\t\t},\n\t\tonHide: function () {\n\t\t\ttools.setSelectionValue('[data-search=\"textinput\"]', '');\n\t\t\ttools.showSelection('[data-welcome=\"box\"]', true);\n\n\t\t\tautostartLib.default.selectedItem = null;\n\t\t}\n\t});\n}\n\n// -----------------------------------------------------------------------------\n","/*jslint browser: true*/\n/*global $,window,document */\n\n// -----------------------------------------------------------------------------\n\nimport * as data from './ddj.data';\nimport * as tools from './ddj.tools';\n\n// -----------------------------------------------------------------------------\n\nconst store = {\n\tobjects: [],\n\troot: null\n}\n\nexport default store;\n\n// -----------------------------------------------------------------------------\n\nconst settings = {\n\tonAdd: function () {\n\t\treturn true;\n\t},\n\tonClick: null,\n\tonFocus: null,\n\tonFormat: null,\n\torientation: 'bottom',\n\tshowNoSuggestion: true,\n\ttitleNoSuggestion: '<i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i> Geben sie bitte einen Suchbegriff ein'\n};\n\n// -----------------------------------------------------------------------------\n\nexport function init(initialSettings) {\n\tif (0 !== store.objects.length) {\n\t\treturn;\n\t}\n\n\tvar key;\n\n\tif ((initialSettings !== null) && (typeof (initialSettings) === 'object')) {\n\t\tfor (key in initialSettings) {\n\t\t\tif (initialSettings.hasOwnProperty(key) && settings.hasOwnProperty(key)) {\n\t\t\t\tsettings[key] = initialSettings[key];\n\t\t\t}\n\t\t}\n\t}\n\n\tstore.root = document.querySelector('[data-search=\"box\"]');\n\n\tif (store.root) {\n\t\tstore.root.addEventListener('focus', function () {\n\t\t\tif (settings.onFocus) {\n\t\t\t\tsettings.onFocus();\n\t\t\t}\n\t\t});\n\n\t\tupdate();\n\t}\n}\n\n// -----------------------------------------------------------------------------\n\nexport function update() {\n\tvar key, val, valObj, valCount, obj, addObj, dataLength = 0,\n\t\tuniqueSetId = [],\n\t\tuniqueId = data.getUniqueIdentifier();\n\n\tif (data.get()) {\n\t\tdataLength = data.get().length;\n\t}\n\tstore.objects = [];\n\n\tfor (key = 0; key < dataLength; ++key) {\n\t\tval = valObj = data.get(key);\n\t\tvalCount = 1;\n\n\t\tif (Array.isArray(valObj)) {\n\t\t\tval = valObj[0];\n\t\t\tvalCount = valObj.length;\n\t\t}\n\n\t\tif ((uniqueId !== null) && (uniqueSetId.indexOf(val[uniqueId]) > -1)) {\n\t\t\t// add to search only once\n\t\t\tcontinue;\n\t\t}\n\n\t\tobj = {\n\t\t\tindex: key,\n\t\t\tcount: valCount,\n\t\t\tvalue: '',\n\t\t\tsortValue1: key,\n\t\t\tsortValue2: key\n\t\t};\n\t\taddObj = settings.onAdd(obj, val);\n\n\t\tif (addObj !== false) {\n\t\t\tstore.objects.push(obj);\n\n\t\t\tuniqueSetId.push(val[uniqueId]);\n\t\t}\n\t}\n\n\tstore.objects.sort(function (a, b) {\n\t\tif (a.sortValue1 === b.sortValue1) {\n\t\t\treturn a.sortValue2 > b.sortValue2 ? 1 : -1;\n\t\t}\n\n\t\treturn a.sortValue1 > b.sortValue1 ? 1 : -1;\n\t});\n\n\t$('#' + settings.htmlDOMelementID).autocomplete({\n\t\tlookup: store.objects,\n\t\tonSelect: function (suggestion) {\n\t\t\tif (settings.onClick) {\n\t\t\t\tsettings.onClick(data.get(suggestion.index));\n\t\t\t}\n\t\t},\n\t\tformatResult: function (suggestion, currentValue) {\n\t\t\tif (settings.onFormat) {\n\t\t\t\treturn settings.onFormat(suggestion, currentValue);\n\t\t\t} else {\n\t\t\t\tvar str = '';\n\n\t\t\t\tstr += '<div class=\"autocomplete-icon backblue\"><i class=\"fa fa-dot-circle-o\" aria-hidden=\"true\"></i></div>';\n\t\t\t\tstr += '<div style=\"line-height: 32px;\">' + suggestion.value.replace(new RegExp(currentValue.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\"), 'gi'), '<strong>' + currentValue + '</strong>') + '</div>';\n\t\t\t\treturn str;\n\t\t\t}\n\t\t},\n\t\torientation: settings.orientation,\n\t\tshowNoSuggestionNotice: settings.showNoSuggestion,\n\t\tnoSuggestionNotice: settings.titleNoSuggestion\n\t});\n}\n\n// -----------------------------------------------------------------------------\n\nexport function autostart(options) {\n\tvar noSuggestion = tools.getSelectionHTML('[data-search=\"noSuggestion\"]') || settings.titleNoSuggestion,\n\t\tpinColor = tools.getMetaContent('ddj:pinColor') || '',\n\t\tpinColorColumn = tools.getMetaContent('ddj:pinColorColumn') || '',\n\t\tpinIcon = tools.getMetaContent('ddj:pinIcon') || '',\n\t\tpinIconColumn = tools.getMetaContent('ddj:pinIconColumn') || '',\n\t\tpinIconPrefix = tools.getMetaContent('ddj:pinIconPrefix') || '',\n\t\tpinIconPrefixColumn = tools.getMetaContent('ddj:pinIconPrefixColumn') || '',\n\t\tsearchTitleColumn = tools.getMetaContent('ddj:searchTitleColumn') || '',\n\t\tsearchDescriptionColumn = tools.getMetaContent('ddj:searchDescriptionColumn') || '',\n\t\tuniqueId = data.getUniqueIdentifier();\n\n\tinit({\n\t\torientation: 'auto',\n\t\tshowNoSuggestion: true,\n\t\ttitleNoSuggestion: noSuggestion,\n\t\tonAdd: function (obj, value) {\n\t\t\tvar name = '',\n\t\t\t\tdescription = '',\n\t\t\t\tcolor = 'blue',\n\t\t\t\ticonPrefix = 'fa',\n\t\t\t\ticonFace = 'fa-dot-circle-o';\n\n\t\t\tif ((searchTitleColumn !== '') && value[searchTitleColumn]) {\n\t\t\t\tname = value[searchTitleColumn];\n\t\t\t}\n\t\t\tif ((searchDescriptionColumn !== '') && value[searchDescriptionColumn]) {\n\t\t\t\tdescription = value[searchDescriptionColumn];\n\t\t\t}\n\n\t\t\tif (pinColor !== '') {\n\t\t\t\tcolor = pinColor;\n\t\t\t}\n\t\t\tif ((pinColorColumn !== '') && value[pinColorColumn]) {\n\t\t\t\tcolor = value[pinColorColumn];\n\t\t\t}\n\n\t\t\tif (pinIcon !== '') {\n\t\t\t\ticonPrefix = pinIconPrefix;\n\t\t\t\ticonFace = pinIcon;\n\t\t\t}\n\t\t\tif ((pinIconColumn !== '') && value[pinIconColumn]) {\n\t\t\t\ticonPrefix = value[pinIconPrefixColumn];\n\t\t\t\ticonFace = value[pinIconColumn];\n\t\t\t}\n\n\t\t\tobj.sortValue1 = name;\n\t\t\tobj.sortValue2 = value[uniqueId];\n\t\t\tobj.data = value[uniqueId];\n\t\t\tobj.color = color;\n\t\t\tobj.value = name;\n\t\t\tobj.desc = description;\n\t\t\tobj.iconPrefix = iconPrefix;\n\t\t\tobj.iconFace = iconFace;\n\n\t\t\treturn true;\n\t\t},\n\t\tonFocus: function () {\n\t\t\twindow.scrollTo(0, 0);\n\t\t\tdocument.body.scrollTop = 0;\n\t\t\t$('#pageMap').animate({\n\t\t\t\tscrollTop: parseInt(0, 10)\n\t\t\t}, 500);\n\t\t},\n\t\tonFormat: function (suggestion, currentValue) {\n\t\t\tvar color = suggestion.color,\n\t\t\t\ticonPrefix = suggestion.iconPrefix,\n\t\t\t\ticonFace = suggestion.iconFace,\n\t\t\t\tstr = '';\n\n\t\t\tstr += '<div class=\"autocomplete-icon back' + color + '\"><i class=\"' + iconPrefix + ' ' + iconFace + '\" aria-hidden=\"true\"></i></div>';\n\t\t\tstr += '<div>' + suggestion.value.replace(new RegExp(currentValue.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\"), 'gi'), '<strong>' + currentValue + '</strong>') + '</div>';\n\t\t\tstr += '<div class=\"' + color + '\">' + suggestion.desc + '</div>';\n\t\t\treturn str;\n\t\t},\n\t\tonClick: function (data) {\n\t\t\tif (options.onClick) {\n\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\toptions.onClick(data[0][uniqueId]);\n\t\t\t\t} else {\n\t\t\t\t\toptions.onClick(data[uniqueId]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n}\n\n// -----------------------------------------------------------------------------\n","/*jslint browser: true*/\n/*global $,window*/\n\n// -----------------------------------------------------------------------------\n\nconst store = {\n}\n\nexport default store;\n\n// -----------------------------------------------------------------------------\n\nconst settings = {\n};\n\n// -----------------------------------------------------------------------------\n\nfunction updatePagesAndButtons() {\n\tvar tutorial = $('[data-tutorial=\"dialog\"]'),\n\t\tpageElement = $('[data-tutorial-currentpage]')[0],\n\t\tpage = parseInt(pageElement.textContent, 10),\n\t\tpages = tutorial.find('[data-tutorial=\"page\"]'),\n\t\tpositionTo = $(pages[page - 1]).data('position-to'),\n\t\tcontrolgroupLinks = tutorial.find('[data-role=\"controlgroup\"] a'),\n\t\tback = $(controlgroupLinks[0]);\n\n\tpages.css('display', 'none');\n\t$(pages[page - 1]).css('display', 'block');\n\n\ttutorial.popup('option', 'positionTo', positionTo || 'origin');\n\n\tif (page < 2) {\n\t\tback.removeClass('disabled').addClass('disabled');\n\t} else {\n\t\tback.removeClass('disabled');\n\t}\n}\n\n// -----------------------------------------------------------------------------\n\nexport function init() {\n\tif (!document.querySelector('[data-tutorial=\"dialog\"]')) {\n\t\treturn;\n\t}\n\n\tvar tutorial = $('[data-tutorial=\"dialog\"]');\n\tvar pages = tutorial.find('[data-tutorial=\"page\"]');\n\n\ttutorial.append(\n\t\t'<div data-tutorial=\"footer\">' +\n\t\t\t'<div>' +\n\t\t\t\t'Seite <span data-tutorial-currentpage>1</span> von ' + pages.length +\n\t\t\t'</div>' +\n\t\t\t'<div data-role=\"controlgroup\" data-type=\"horizontal\">' +\n\t\t\t\t'<a href=\"#\" class=\"ui-btn ui-corner-all ui-btn-a\" onclick=\"ddj.tutorial.onBack()\"><i class=\"fa fa-chevron-left\" aria-hidden=\"true\"></i></a>' +\n\t\t\t\t'<a href=\"#\" class=\"ui-btn ui-corner-all ui-btn-a\" onclick=\"ddj.tutorial.onNext()\"><i class=\"fa fa-chevron-right\" aria-hidden=\"true\"></i></a>' +\n\t\t\t'</div>' +\n\t\t'</div>'\n\t);\n\n\tvar controlgroups = tutorial.find('[data-role=\"controlgroup\"]');\n\tcontrolgroups.controlgroup({direction: \"horizontal\"});\n\n\t$('[data-tutorial=\"dialog\"]').popup({\n\t\tafterclose: function() {\n\t\t\tgotoFirstPage();\n\t\t}\n\t});\n\n\tgotoFirstPage();\n}\n\n// -----------------------------------------------------------------------------\n\nexport function update() {\n}\n\n// -----------------------------------------------------------------------------\n\nexport function gotoFirstPage() {\n\tvar pageElement = $('[data-tutorial-currentpage]')[0];\n\n\tpageElement.textContent = 1;\n\n\tupdatePagesAndButtons();\n}\n\n// -----------------------------------------------------------------------------\n\nexport function onBack() {\n\tvar pageElement = $('[data-tutorial-currentpage]')[0],\n\t\tpage = parseInt(pageElement.textContent, 10);\n\n\tif (page > 1) {\n\t\tpageElement.textContent = page - 1;\n\t}\n\n\tupdatePagesAndButtons();\n}\n\n// -----------------------------------------------------------------------------\n\nexport function onNext() {\n\tvar pageElement = $('[data-tutorial-currentpage]')[0],\n\t\tpages = $('[data-tutorial=\"dialog\"]').find('[data-tutorial=\"page\"]'),\n\t\tpage = parseInt(pageElement.textContent, 10);\n\n\tif (page < pages.length) {\n\t\tpageElement.textContent = page + 1;\n\n\t\tupdatePagesAndButtons();\n\t} else {\n\t\t$('[data-tutorial=\"dialog\"]').popup('close');\n\t}\n}\n\n// -----------------------------------------------------------------------------\n\nexport function autostart() {\n\tinit();\n\n\twindow.setTimeout(function() {\n\t\tif (document.querySelector('[data-tutorial=\"dialog\"]')) {\n\t\t\t$('[data-tutorial=\"dialog\"]').popup('open');\n\t\t}\n\t}, 0);\n}\n\n// -----------------------------------------------------------------------------\n","/*jslint browser: true*/\n/*global L,window,XMLHttpRequest,history*/\n\n// -----------------------------------------------------------------------------\n\nimport * as data from './ddj.data';\nimport * as map from './ddj.map';\nimport * as mapcontrols from './ddj.mapcontrols';\nimport * as marker from './ddj.marker';\nimport * as quickinfo from './ddj.quickinfo';\nimport * as search from './ddj.search';\nimport * as tools from './ddj.tools';\nimport * as tutorial from './ddj.tutorial';\n\n// -----------------------------------------------------------------------------\n\nconst store = {\n\tselectedItem: null,\n\tonDoneCallback: null,\n\teventPageShowWasSet: false,\n}\n\nexport default store;\n\n// -----------------------------------------------------------------------------\n\nfunction getJSON(uri, successCallback) {\n\tvar promiseObject = {\n\t\tonDone: null,\n\t\tonFail: null,\n\t\tonAlways: null,\n\n\t\tdone: function(callback) {\n\t\t\tthis.onDone = callback;\n\t\t\treturn this;\n\t\t},\n\t\tfail: function(callback) {\n\t\t\tthis.onFail = callback;\n\t\t\treturn this;\n\t\t},\n\t\talways: function(callback) {\n\t\t\tthis.onAlways = callback;\n\t\t\treturn this;\n\t\t},\n\t};\n\n\tvar request = new XMLHttpRequest();\n\trequest.open('GET', uri, true);\n\n\trequest.onreadystatechange = function() {\n\t\tif (this.readyState === 4) {\n\t\t\tif (this.status >= 200 && this.status < 400) {\n\t\t\t\tvar jsonData = JSON.parse(this.responseText);\n\t\t\t\tif (successCallback) {\n\t\t\t\t\tsuccessCallback(jsonData);\n\t\t\t\t}\n\t\t\t\tif (promiseObject.onDone) {\n\t\t\t\t\tpromiseObject.onDone(jsonData);\n\t\t\t\t}\n\t\t\t\tif (promiseObject.onAlways) {\n\t\t\t\t\tpromiseObject.onAlways();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (promiseObject.onFail) {\n\t\t\t\t\tpromiseObject.onFail(/*jqxhr*/null, /*textStatus*/'', /*error*/null);\n\t\t\t\t}\n\t\t\t\tif (promiseObject.onAlways) {\n\t\t\t\t\tpromiseObject.onAlways();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\trequest.send();\n\trequest = null;\n\n\treturn promiseObject;\n}\n\n// -----------------------------------------------------------------------------\n\nfunction cleanURI() {\n\tif (window.location.hash) {\n\t\thistory.replaceState(null, null, ' ');\n\t}\n}\n\n// -----------------------------------------------------------------------------\n\nfunction updateMapSelectItem(selectedItem) {\n\tstore.selectedItem = selectedItem;\n\n\tquickinfo.show(store.selectedItem);\n}\n\n// -----------------------------------------------------------------------------\n\nfunction selectSuggestion(selection) {\n\tvar key, val, items = data.get(), uniqueId = data.getUniqueIdentifier();\n\n\tfor (key = 0; key < items.length; ++key) {\n\t\tval = items[key];\n\n\t\tif (val && (val[uniqueId] === selection)) {\n\t\t\tif (val.lat && val.lng) {\n\t\t\t\tmap.get().panTo(new L.LatLng(val.lat, val.lng));\n\t\t\t}\n\t\t\tupdateMapSelectItem(tools.getAllObjects(val));\n\n\t\t\treturn;\n\t\t}\n\t}\n}\n\n// -----------------------------------------------------------------------------\n\nfunction onPageShow() {\n\tvar dataUris = tools.getMetaContentArray('ddj:data'),\n\t\tdataIgnoreSecondLines = tools.getMetaContentArray('ddj:dataIgnoreSecondLine'),\n\t\tdataIgnoreLastLines = tools.getMetaContentArray('ddj:dataIgnoreLastLine'),\n\t\tdataUniqueIdentifier = tools.getMetaContent('ddj:dataUniqueIdentifier') || '';\n\n\tfunction onDone() {\n\t\tquickinfo.autostart();\n\n\t\tmarker.autostart({\n\t\t\tonClick: function (latlng, item) {\n\t\t\t\tupdateMapSelectItem(tools.getAllObjects(item));\n\t\t\t},\n\t\t});\n\n\t\tsearch.autostart({\n\t\t\tonClick: function (item) {\n\t\t\t\tselectSuggestion(item);\n\t\t\t},\n\t\t});\n\n\t\ttools.showSelection('.visibleWithoutData', false);\n\t\ttools.showSelection('.visibleWithData', true);\n\t}\n\n\tfunction onFail() {\n\t\ttools.showSelection('.visibleWithoutErrors', false);\n\t\ttools.showSelection('.visibleWithErrors', true);\n\t}\n\n\tfunction onAlways() {\n\t\tif (store.onDoneCallback) {\n\t\t\tstore.onDoneCallback();\n\t\t}\n\t}\n\n\tfunction loadData(index) {\n\t\tif (index < dataUris.length) {\n\t\t\tvar dataUri = dataUris[index] + '?nocache=' + (new Date().getTime()),\n\t\t\t\tdataIgnoreSecondLine = (index < dataIgnoreSecondLines.length ? dataIgnoreSecondLines[index] : '') === 'true',\n\t\t\t\tdataIgnoreLastLine = (index < dataIgnoreLastLines.length ? dataIgnoreLastLines[index] : '') === 'true';\n\n\t\t\tgetJSON(dataUri, function (jsonObject) {\n\t\t\t\tvar jsonData = jsonObject;\n\n\t\t\t\tif (dataIgnoreSecondLine) {\n\t\t\t\t\tjsonData.shift();\n\t\t\t\t}\n\t\t\t\tif (dataIgnoreLastLine) {\n\t\t\t\t\tjsonData.pop();\n\t\t\t\t}\n\n\t\t\t\tdata.init(jsonData);\n\n\t\t\t\tif (dataUniqueIdentifier !== '') {\n\t\t\t\t\tdata.setUniqueIdentifier(dataUniqueIdentifier);\n\t\t\t\t}\n\t\t\t}).done(function() {\n\t\t\t\tloadData(index + 1);\n\t\t\t}).fail(function() {\n\t\t\t\tonFail();\n\t\t\t\tonAlways();\n\t\t\t});\n\t\t} else {\n\t\t\tif (index > 0) {\n\t\t\t\tonDone();\n\t\t\t}\n\t\t\tonAlways();\n\t\t}\t\t\t\t\t\t\n\t}\n\n\tcleanURI();\n\n\tstore.selectedItem = null;\n\ttools.setSelectionValue('[data-search=\"textinput\"]', '');\n\tmap.autostart();\n\tmapcontrols.autostart();\n\ttutorial.autostart();\n\n\tloadData(0);\n}\n\n// -----------------------------------------------------------------------------\n\nif (!store.eventPageShowWasSet) {\n\tstore.eventPageShowWasSet = true;\n\n\twindow.addEventListener('pageshow', onPageShow);\n}\n\n// -----------------------------------------------------------------------------\n\nexport function onDone(callback) {\n\tstore.onDoneCallback = callback;\n}\n\n// -----------------------------------------------------------------------------\n"],"sourceRoot":""}