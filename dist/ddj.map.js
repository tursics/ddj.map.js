!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.ddj=n():t.ddj=n()}(this,(function(){return function(t){var n={};function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=n,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)o.d(e,r,function(n){return t[n]}.bind(null,r));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="",o(o.s=0)}([function(t,n,o){"use strict";o.r(n),o.d(n,"autostart",(function(){return s})),o.d(n,"data",(function(){return e})),o.d(n,"map",(function(){return i})),o.d(n,"mapcontrols",(function(){return a})),o.d(n,"marker",(function(){return u})),o.d(n,"quickinfo",(function(){return l})),o.d(n,"search",(function(){return c})),o.d(n,"tools",(function(){return r})),o.d(n,"tutorial",(function(){return d}));var e={};o.r(e),o.d(e,"default",(function(){return p})),o.d(e,"getRow",(function(){return y})),o.d(e,"get",(function(){return m})),o.d(e,"init",(function(){return g})),o.d(e,"getUniqueIdentifier",(function(){return h})),o.d(e,"setUniqueIdentifier",(function(){return b}));var r={};o.r(r),o.d(r,"default",(function(){return v})),o.d(r,"getMetaContent",(function(){return S})),o.d(r,"getMetaContentArray",(function(){return w})),o.d(r,"showSelection",(function(){return k})),o.d(r,"getSelectionValue",(function(){return x})),o.d(r,"setSelectionValue",(function(){return j})),o.d(r,"getSelectionHTML",(function(){return C})),o.d(r,"getAllObjects",(function(){return I}));var i={};o.r(i),o.d(i,"default",(function(){return O})),o.d(i,"get",(function(){return T})),o.d(i,"set",(function(){return D})),o.d(i,"getDOMName",(function(){return P})),o.d(i,"setDOMName",(function(){return F})),o.d(i,"canInit",(function(){return z})),o.d(i,"init",(function(){return E})),o.d(i,"autostart",(function(){return N}));var a={};o.r(a),o.d(a,"default",(function(){return G})),o.d(a,"init",(function(){return R})),o.d(a,"autostart",(function(){return U}));var u={};o.r(u),o.d(u,"default",(function(){return Y})),o.d(u,"canInit",(function(){return X})),o.d(u,"init",(function(){return Q})),o.d(u,"fixGeometryData",(function(){return K})),o.d(u,"update",(function(){return tt})),o.d(u,"autostart",(function(){return nt}));var l={};o.r(l),o.d(l,"default",(function(){return rt})),o.d(l,"init",(function(){return ut})),o.d(l,"update",(function(){return lt})),o.d(l,"setVisible",(function(){return ct})),o.d(l,"show",(function(){return dt})),o.d(l,"autostart",(function(){return st}));var c={};o.r(c),o.d(c,"default",(function(){return yt})),o.d(c,"init",(function(){return gt})),o.d(c,"update",(function(){return ht})),o.d(c,"autostart",(function(){return bt}));var d={};o.r(d),o.d(d,"default",(function(){return vt})),o.d(d,"init",(function(){return wt})),o.d(d,"update",(function(){return kt})),o.d(d,"gotoFirstPage",(function(){return xt})),o.d(d,"onBack",(function(){return jt})),o.d(d,"onNext",(function(){return Ct})),o.d(d,"autostart",(function(){return Lt}));var s={};o.r(s),o.d(s,"default",(function(){return At})),o.d(s,"onDone",(function(){return Ot}));var f={userData:null,uniqueIdentifier:null},p=f;function y(t){return null==t?f.userData:f.userData[t]}function m(t){var n=y(t);return n&&n.geometry&&n.properties&&(n=n.properties),n}function g(t){f.userData=t,t&&t.type&&"FeatureCollection"===t.type&&t.features&&(f.userData=t.features),String.prototype.startsWith=String.prototype.startsWith||function(t){return 0===this.indexOf(t)},void 0===Array.isArray&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)})}function h(){var t=f.uniqueIdentifier;return void 0===t||null==t||""===t?null:t}function b(t){f.uniqueIdentifier=t}var v={};function S(t){var n=document.querySelector('meta[name="'+t+'"]');return n&&n.content||""}function w(t){var n=document.querySelectorAll('meta[name="'+t+'"]'),o=[];if(n)for(var e=0;e<n.length;++e)o.push(n[e].content||"");return o}function k(t,n){var o,e;for(t=t||"",o=document.querySelectorAll(t),e=0;e<o.length;++e)o[e].style.display=n?"block":"none"}function x(t){if(t){var n=document.querySelectorAll(t);if(n.length>0)return n[0].value}return""}function j(t,n){var o,e;for(t=t||"",o=document.querySelectorAll(t),e=0;e<o.length;++e)o[e].value=n}function C(t){if(t){var n=document.querySelectorAll(t);if(n.length>0)return n[0].innerHTML}return""}function I(t){var n,o=[],e=h();if(null===e)return t;for(n=0;n<p.userData.length;++n)p.userData[n][e]===t[e]&&o.push(p.userData[n]);return 1===o.length?o[0]:o}function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var M={map:null,mapDOMelementID:""},O=M,q={mapboxId:"tursics.l7ad5ee8",mapboxToken:"pk.eyJ1IjoidHVyc2ljcyIsImEiOiI1UWlEY3RNIn0.U9sg8F_23xWXLn4QdfZeqg",attribution:"",centerLat:52.518413,centerLng:13.408368,zoom:13,onFocusOnce:null,onZoomed:null,onMoved:null};function T(){return M.map}function D(t){M.map=t}function P(){return M.mapDOMelementID}function F(t){M.mapDOMelementID=t}function z(){return"undefined"!=typeof L&&null!==L}function E(t,n){if(null===T())if(z()){var o,e,r=[];if(null!==n&&"object"===A(n))for(o in n)n.hasOwnProperty(o)&&q.hasOwnProperty(o)&&(q[o]=n[o]);r.push('<a href="http://www.openstreetmap.org" target="_blank">OpenStreetMap-Mitwirkende</a>'),r.push('<a href="https://www.mapbox.com" target="_blank">Mapbox</a>'),""!==q.attribution&&r.push(q.attribution),e=L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:r.join(", "),tileSize:512,zoomOffset:-1,id:"mapbox/streets-v11",accessToken:q.mapboxToken}),F(t),D(L.map(t,{zoomControl:!1,scrollWheelZoom:!0}).addLayer(e).setView([q.centerLat,q.centerLng],q.zoom)),T().addControl(L.control.zoom({position:"bottomright"})),T().once("focus",(function(){q.onFocusOnce&&q.onFocusOnce()})),T().on("zoomend",(function(){q.onZoomed&&q.onZoomed()})),T().on("moveend",(function(){q.onMoved&&q.onMoved()}))}else console.error("Error: Please include leaflet.js in your html file.")}function N(){var t=document.getElementById("map"),n=S("ddj:mapCenter"),o=document.querySelectorAll('[data-map="attribution"]')||[];t&&2===n.split(",").length&&E("map",{mapboxId:S("ddj:mapboxId"),mapboxToken:S("ddj:mapboxToken"),attribution:o.length>0?o[0].innerHTML:"",centerLat:n.split(",")[0].trim(),centerLng:n.split(",")[1].trim(),zoom:S("ddj:mapZoom")})}function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}String.prototype.startsWith=String.prototype.startsWith||function(t){return 0===this.indexOf(t)};var G={},V={};function W(){var t,n=L.DomUtil.create("div","leaflet-bar leaflet-control leaflet-control-custom");return document.querySelector('[data-share="dialog"]')&&(t=$('[data-share="dialog"]').data("icon")||"fa fa-share-alt",n.innerHTML='<a style="font-size:1.2em" href="#popupShare" title="Teilen" data-rel="popup" data-position-to="window" data-transition="pop"><i class="'+t+'" aria-hidden="true"></i></a>'),document.querySelector('[data-info="dialog"]')&&(t=$("#popupInfo").data("icon")||"fa fa-info",n.innerHTML+='<a style="font-size:1.2em" href="#popupInfo" title="Info" data-rel="popup" data-position-to="window" data-transition="pop"><i class="'+t+'" aria-hidden="true"></i></a>'),document.querySelector('[data-author="dialog"]')&&(t=$("#popupAuthor").data("icon")||"fa fa-envelope",n.innerHTML+='<a style="font-size:1.2em" href="#popupAuthor" title="Autor" data-rel="popup" data-position-to="window" data-transition="pop"><i class="'+t+'" aria-hidden="true"></i></a>'),document.querySelector('[data-tutorial="dialog"]')&&(t=$('[data-tutorial="dialog"]').data("icon")||"fa fa-graduation-cap",n.innerHTML+='<a style="font-size:1.2em" href="#popupTutorial" title="Anleitung" data-rel="popup" data-position-to="window" data-transition="pop"><i class="'+t+'" aria-hidden="true"></i></a>'),n}function _(){var t=$("#selectEmbedSize").val().split("x"),n=t[0],o=t[1],e='<iframe src="'+(S("ddj:shareURI")||"")+'" width="'+n+'" height="'+o+'" frameborder="0" style="border:0" allowfullscreen></iframe>';$("#inputEmbedURI").val(e),-1===$("#embedMap iframe")[0].outerHTML.indexOf('width="'+n+'"')&&($("#embedMap iframe")[0].outerHTML=e.replace('.html"',".html?foo="+(new Date).getTime()+'"'),$("#embedMap input").focus().select())}function R(t){if(null!==T()){var n;if(null!==t&&"object"===H(t))for(n in t)t.hasOwnProperty(n)&&V.hasOwnProperty(n)&&(V[n]=t[n]);var o=L.Control.extend({options:{position:"bottomright"},onAdd:W});T().addControl(new o),document.querySelector('[data-share="dialog"]')&&($("#popupShare").on("popupafteropen",(function(){$("#shareLink input").focus().select()})),$("#tabShareLink").on("click",(function(){$("#popupShare").popup("reposition","positionTo: window"),$("#shareLink input").focus().select()})),$("#tabEmbedMap").on("click",(function(){_(),$("#popupShare").popup("reposition","positionTo: window"),$("#embedMap input").focus().select()})),$("#selectEmbedSize").val("400x300").selectmenu("refresh"),$("#selectEmbedSize").on("change",(function(){_(),$("#popupShare").popup("reposition","positionTo: window")})))}}function U(){R()}function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var B={layerGroup:null},Y=B,J={onAdd:function(){return!0},onAddHTML:function(){return!1},onMouseOver:null,onMouseOut:null,onClick:null};function X(){return"undefined"!=typeof L&&null!==L&&void 0!==L.AwesomeMarkers}function Q(t){if(null===B.layerGroup)if(X()){var n;if(null!==t&&"object"===Z(t))for(n in t)t.hasOwnProperty(n)&&J.hasOwnProperty(n)&&(J[n]=t[n]);tt()}else console.error("Error: Please include leaflet.js and Leaflet.awesome-markers,js in your html file.")}function K(t){if(t.geometry&&t.properties){var n,o,e,r,i,a,u,l,c,d;if("Polygon"===t.geometry.type){for(e=t.geometry.coordinates[0][0][1],r=t.geometry.coordinates[0][0][1],i=t.geometry.coordinates[0][0][0],a=t.geometry.coordinates[0][0][0],u=0;u<t.geometry.coordinates.length;++u)for(l=t.geometry.coordinates[u],c=0;c<l.length;++c)(d=l[c])[1]<e&&(e=d[1]),d[1]>r&&(r=d[1]),d[0]<i&&(i=d[0]),d[0]>a&&(a=d[0]);n=(e+r)/2,o=(i+a)/2}else"Point"===t.geometry.type?(n=t.geometry.coordinates[1],o=t.geometry.coordinates[0]):console.log(t.geometry.type+" not yet implemented");(t=t.properties).lat=t.lat||n,t.lng=t.lng||o}return t}function tt(){var t,n,o,e,r,i,a,u=[],l=h();if(B.layerGroup&&(T().removeLayer(B.layerGroup),B.layerGroup=null),B.layerGroup=L.featureGroup([]),B.layerGroup.addTo(T()),B.layerGroup.addEventListener("mouseover",(function(t){J.onMouseOver&&J.onMouseOver([t.latlng.lat,t.latlng.lng],m(t.layer.options.data))})),B.layerGroup.addEventListener("mouseout",(function(t){J.onMouseOut&&J.onMouseOut([t.latlng.lat,t.latlng.lng],m(t.layer.options.data))})),B.layerGroup.addEventListener("click",(function(t){J.onClick&&J.onClick([t.latlng.lat,t.latlng.lng],m(t.layer.options.data))})),y())for(t=0;t<y().length;++t)if(n=o=K(o=y(t)),e=1,Array.isArray(n)&&(o=n[0],e=n.length),!(null!==l&&u.indexOf(o[l])>-1)&&void 0!==o.lat&&""!==o.lat&&void 0!==o.lng&&""!==o.lng){r={index:t,count:e,lat:parseFloat(o.lat),lng:parseFloat(o.lng),color:"blue",opacity:1,clickable:1,iconPrefix:"fa",iconFace:"fa-dot-circle-o",htmlClass:"",htmlIconSize:null,htmlElement:""};try{i=J.onAdd(r,o)}catch(t){console.log(t),i=!1}try{a=J.onAddHTML(r,o)}catch(t){console.log(t),a=!1}!1!==i&&(B.layerGroup.addLayer(L.marker([r.lat,r.lng],{data:r.index,icon:L.AwesomeMarkers.icon({prefix:"fa",extraClasses:r.iconPrefix,icon:r.iconFace,markerColor:r.color}),opacity:r.opacity,clickable:r.clickable})),u.push(o[l])),!1!==a&&(B.layerGroup.addLayer(L.marker([r.lat,r.lng],{data:r.index,icon:L.divIcon({className:r.htmlClass,iconSize:r.htmlIconSize,html:r.htmlElement}),opacity:r.opacity,clickable:r.clickable})),u.push(o[l]))}}function nt(t){var n=S("ddj:pinColor")||"",o=S("ddj:pinColorColumn")||"",e=S("ddj:pinIcon")||"",r=S("ddj:pinIconColumn")||"",i=S("ddj:pinIconPrefix")||"",a=S("ddj:pinIconPrefixColumn")||"";X()&&Q({onAdd:function(t,u){return""!==n&&(t.color=n),""!==o&&u[o]&&(t.color=u[o]),""!==e&&(t.iconPrefix=i,t.iconFace=e),""!==r&&u[r]&&(t.iconPrefix=u[a],t.iconFace=u[r]),!0},onClick:function(n,o){t.onClick&&t.onClick(n,o)}})}function ot(t){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var et={root:null},rt=et,it={dictYes:"ja",dictNo:"nein",onShow:null,onHide:null};function at(t,n){return(" "+t.className+" ").indexOf(" "+n+" ")>-1}function ut(t){if(null===et.root){var n;if(null!==t&&"object"===ot(t))for(n in t)t.hasOwnProperty(n)&&it.hasOwnProperty(n)&&(it[n]=t[n]);if(et.root=document.querySelector('[data-quickinfo="box"]'),et.root){var o=et.root.querySelector('[data-quickinfo="close"]');o&&(o.onclick=function(){ct(!1)});var e=et.root.querySelector('[data-quickinfo="group"]');e&&(e.onclick=function(){$(this).toggleClass("groupClosed")})}}}function lt(){}function ct(t){t?(et.root.style.display="block",it.onShow&&it.onShow()):(et.root.stle.display="none",it.onHide&&it.onHide())}function dt(t){function n(t,n){var o=et.root.querySelectorAll('[data-quickdata="'+CSS.escape(t)+'"]');if(o.length>0&&(at(o[0],"number")?n=function(t){var n="",o=0;for("-"===(t=String(parseInt(t,10)))[0]&&(n="-",t=t.slice(1)),o=t.length;o>3;)o-=3,t=t.slice(0,o)+"."+t.slice(o);return n+t}(n):at(o[0],"boolean")&&(n=1===n?it.dictYes:it.dictNo),"IMG"===o[0].tagName?o[0].src=n:o[0].innerHTML=n),(o=et.root.querySelectorAll('[data-hide-if-zero="'+CSS.escape(t)+'"]')).length>0){var e="block";"0"!==n&&0!==n&&null!==n||(e="none"),o[0].style.display=e}}var o,e,r,i,a,u=t,l=[],c=[];if(Array.isArray(u)||(u=[t]),1===(a=et.root.querySelectorAll('[data-quickinfo="list"]')).length)for(l=a[0].querySelectorAll('[data-quickinfo="item"]');l.length>1;)$(l[0]).remove(),l=a[0].querySelectorAll('[data-quickinfo="item"]');for(o=0;o<u.length;++o){for(r in e=u[o])e.hasOwnProperty(r)&&n(r,e[r]);l.length>0&&c.push($(l[0]).clone())}if(l.length>0)for($(l[0]).remove(),i=0;i<c.length;++i)c[i].appendTo(a);ct(!0)}function st(){ut({onShow:function(){k('[data-welcome="box"]',!1)},onHide:function(){j('[data-search="textinput"]',""),k('[data-welcome="box"]',!0),At.selectedItem=null}})}function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var pt={objects:[],root:null},yt=pt,mt={onAdd:function(){return!0},onClick:null,onFocus:null,onFormat:null,orientation:"bottom",showNoSuggestion:!0,titleNoSuggestion:'<i class="fa fa-info-circle" aria-hidden="true"></i> Geben sie bitte einen Suchbegriff ein'};function gt(t){if(0===pt.objects.length){var n;if(null!==t&&"object"===ft(t))for(n in t)t.hasOwnProperty(n)&&mt.hasOwnProperty(n)&&(mt[n]=t[n]);pt.root=document.querySelector('[data-search="box"]'),pt.root&&(pt.root.addEventListener("focus",(function(){mt.onFocus&&mt.onFocus()})),ht())}}function ht(){var t,n,o,e,r,i=0,a=[],u=h();for(m()&&(i=m().length),pt.objects=[],t=0;t<i;++t)n=o=m(t),e=1,Array.isArray(o)&&(n=o[0],e=o.length),null!==u&&a.indexOf(n[u])>-1||(r={index:t,count:e,value:"",sortValue1:t,sortValue2:t},!1!==mt.onAdd(r,n)&&(pt.objects.push(r),a.push(n[u])));pt.objects.sort((function(t,n){return t.sortValue1===n.sortValue1?t.sortValue2>n.sortValue2?1:-1:t.sortValue1>n.sortValue1?1:-1})),$("#"+mt.htmlDOMelementID).autocomplete({lookup:pt.objects,onSelect:function(t){mt.onClick&&mt.onClick(m(t.index))},formatResult:function(t,n){if(mt.onFormat)return mt.onFormat(t,n);var o="";return o+='<div class="autocomplete-icon backblue"><i class="fa fa-dot-circle-o" aria-hidden="true"></i></div>',o+='<div style="line-height: 32px;">'+t.value.replace(new RegExp(n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"gi"),"<strong>"+n+"</strong>")+"</div>"},orientation:mt.orientation,showNoSuggestionNotice:mt.showNoSuggestion,noSuggestionNotice:mt.titleNoSuggestion})}function bt(t){var n=C('[data-search="noSuggestion"]')||mt.titleNoSuggestion,o=S("ddj:pinColor")||"",e=S("ddj:pinColorColumn")||"",r=S("ddj:pinIcon")||"",i=S("ddj:pinIconColumn")||"",a=S("ddj:pinIconPrefix")||"",u=S("ddj:pinIconPrefixColumn")||"",l=S("ddj:searchTitleColumn")||"",c=S("ddj:searchDescriptionColumn")||"",d=h();gt({orientation:"auto",showNoSuggestion:!0,titleNoSuggestion:n,onAdd:function(t,n){var s="",f="",p="blue",y="fa",m="fa-dot-circle-o";return""!==l&&n[l]&&(s=n[l]),""!==c&&n[c]&&(f=n[c]),""!==o&&(p=o),""!==e&&n[e]&&(p=n[e]),""!==r&&(y=a,m=r),""!==i&&n[i]&&(y=n[u],m=n[i]),t.sortValue1=s,t.sortValue2=n[d],t.data=n[d],t.color=p,t.value=s,t.desc=f,t.iconPrefix=y,t.iconFace=m,!0},onFocus:function(){window.scrollTo(0,0),document.body.scrollTop=0,$("#pageMap").animate({scrollTop:parseInt(0,10)},500)},onFormat:function(t,n){var o=t.color,e="";return e+='<div class="autocomplete-icon back'+o+'"><i class="'+t.iconPrefix+" "+t.iconFace+'" aria-hidden="true"></i></div>',e+="<div>"+t.value.replace(new RegExp(n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"gi"),"<strong>"+n+"</strong>")+"</div>",e+='<div class="'+o+'">'+t.desc+"</div>"},onClick:function(n){t.onClick&&(Array.isArray(n)?t.onClick(n[0][d]):t.onClick(n[d]))}})}var vt={};function St(){var t=$('[data-tutorial="dialog"]'),n=$("[data-tutorial-currentpage]")[0],o=parseInt(n.textContent,10),e=t.find('[data-tutorial="page"]'),r=$(e[o-1]).data("position-to"),i=t.find('[data-role="controlgroup"] a'),a=$(i[0]);e.css("display","none"),$(e[o-1]).css("display","block"),t.popup("option","positionTo",r||"origin"),o<2?a.removeClass("disabled").addClass("disabled"):a.removeClass("disabled")}function wt(){if(document.querySelector('[data-tutorial="dialog"]')){var t=$('[data-tutorial="dialog"]'),n=t.find('[data-tutorial="page"]');t.append('<div data-tutorial="footer"><div>Seite <span data-tutorial-currentpage>1</span> von '+n.length+'</div><div data-role="controlgroup" data-type="horizontal"><a href="#" class="ui-btn ui-corner-all ui-btn-a" onclick="ddj.tutorial.onBack()"><i class="fa fa-chevron-left" aria-hidden="true"></i></a><a href="#" class="ui-btn ui-corner-all ui-btn-a" onclick="ddj.tutorial.onNext()"><i class="fa fa-chevron-right" aria-hidden="true"></i></a></div></div>'),t.find('[data-role="controlgroup"]').controlgroup({direction:"horizontal"}),$('[data-tutorial="dialog"]').popup({afterclose:function(){xt()}}),xt()}}function kt(){}function xt(){$("[data-tutorial-currentpage]")[0].textContent=1,St()}function jt(){var t=$("[data-tutorial-currentpage]")[0],n=parseInt(t.textContent,10);n>1&&(t.textContent=n-1),St()}function Ct(){var t=$("[data-tutorial-currentpage]")[0],n=$('[data-tutorial="dialog"]').find('[data-tutorial="page"]'),o=parseInt(t.textContent,10);o<n.length?(t.textContent=o+1,St()):$('[data-tutorial="dialog"]').popup("close")}function Lt(){wt(),window.setTimeout((function(){document.querySelector('[data-tutorial="dialog"]')&&$('[data-tutorial="dialog"]').popup("open")}),0)}var It={selectedItem:null,onDoneCallback:null,eventPageShowWasSet:!1},At=It;function Mt(t){It.selectedItem=t,dt(It.selectedItem)}function Ot(t){It.onDoneCallback=t}It.eventPageShowWasSet||(It.eventPageShowWasSet=!0,window.addEventListener("pageshow",(function(){var t=w("ddj:data"),n=w("ddj:dataIgnoreSecondLine"),o=w("ddj:dataIgnoreLastLine"),e=S("ddj:dataUniqueIdentifier")||"";function r(){st(),nt({onClick:function(t,n){Mt(I(n))}}),bt({onClick:function(t){!function(t){var n,o,e=m(),r=h();for(n=0;n<e.length;++n)if((o=e[n])&&o[r]===t)return o.lat&&o.lng&&T().panTo(new L.LatLng(o.lat,o.lng)),void Mt(I(o))}(t)}}),k(".visibleWithoutData",!1),k(".visibleWithData",!0)}function i(){It.onDoneCallback&&It.onDoneCallback()}window.location.hash&&history.replaceState(null,null," "),It.selectedItem=null,j('[data-search="textinput"]',""),N(),U(),Lt(),function a(u){if(u<t.length){var l=t[u]+"?nocache="+(new Date).getTime(),c="true"===(u<n.length?n[u]:""),d="true"===(u<o.length?o[u]:"");(s=l,f=function(t){var n=t;c&&n.shift(),d&&n.pop(),g(n),""!==e&&b(e)},p={onDone:null,onFail:null,onAlways:null,done:function(t){return this.onDone=t,this},fail:function(t){return this.onFail=t,this},always:function(t){return this.onAlways=t,this}},y=new XMLHttpRequest,y.open("GET",s,!0),y.onreadystatechange=function(){if(4===this.readyState)if(this.status>=200&&this.status<400){var t=JSON.parse(this.responseText);f&&f(t),p.onDone&&p.onDone(t),p.onAlways&&p.onAlways()}else p.onFail&&p.onFail(null,"",null),p.onAlways&&p.onAlways()},y.send(),y=null,p).done((function(){a(u+1)})).fail((function(){k(".visibleWithoutErrors",!1),k(".visibleWithErrors",!0),i()}))}else u>0&&r(),i();var s,f,p,y}(0)})))}])}));
//# sourceMappingURL=ddj.map.js.map